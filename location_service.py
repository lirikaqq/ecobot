import random


SHOPS = [
    {"name": "–≠–∫–æ–ú–∞—Ä–∫–µ—Ç", "address": "—É–ª. –õ–µ–Ω–∏–Ω–∞, 1, –ú–æ—Å–∫–≤–∞", "lat": 55.7558, "lng": 37.6173},
    {"name": "–ó–µ–ª—ë–Ω—ã–π –£–≥–æ–ª–æ–∫", "address": "—É–ª. –°–æ–≤–µ—Ç—Å–∫–∞—è, 5, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥", "lat": 59.9343, "lng": 30.3351},
    {"name": "–≠–∫–æ–ü—Ä–æ–¥—É–∫—Ç", "address": "–ø—Ä. –ü–æ–±–µ–¥—ã, 10, –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫", "lat": 55.0084, "lng": 82.9357},
    {"name": "–ß–∏—Å—Ç–∞—è –ü–ª–∞–Ω–µ—Ç–∞", "address": "—É–ª. –ì–∞–≥–∞—Ä–∏–Ω–∞, 7, –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥", "lat": 56.838, "lng": 60.6041},
    {"name": "–≠–∫–æ–í—ã–±–æ—Ä", "address": "–ø—Ä. –õ–µ–Ω–∏–Ω–∞, 20, –ö–∞–∑–∞–Ω—å", "lat": 55.7963, "lng": 49.1087},
    {"name": "–ó–µ–ª—ë–Ω–∞—è –¢–æ—á–∫–∞", "address": "—É–ª. –ü—É—à–∫–∏–Ω–∞, 15, –ù–∏–∂–Ω–∏–π –ù–æ–≤–≥–æ—Ä–æ–¥", "lat": 56.3269, "lng": 44.0059},
    {"name": "–≠–∫–æ–°–∫–ª–∞–¥", "address": "—É–ª. –ú–∏—Ä–∞, 8, –°–∞–º–∞—Ä–∞", "lat": 53.1959, "lng": 50.1356},
    {"name": "–≠–∫–æ–õ–∞–≤–∫–∞", "address": "—É–ª. –ö–∞—Ä–ª–∞ –ú–∞—Ä–∫—Å–∞, 22, –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É", "lat": 47.2225, "lng": 39.7204},
    {"name": "–≠–∫–æ–ú–∞—Ä–∫–µ—Ç", "address": "—É–ª. –õ–µ–Ω–∏–Ω–∞, 1, –ú–æ—Å–∫–≤–∞", "lat": 55.7558, "lng": 37.6173},
    {"name": "–ó–µ–ª—ë–Ω—ã–π –£–≥–æ–ª–æ–∫", "address": "—É–ª. –°–æ–≤–µ—Ç—Å–∫–∞—è, 5, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥", "lat": 59.9343, "lng": 30.3351},
    {"name": "–≠–∫–æ–ü—Ä–æ–¥—É–∫—Ç", "address": "–ø—Ä. –ü–æ–±–µ–¥—ã, 10, –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫", "lat": 55.0084, "lng": 82.9357},
    {"name": "–ß–∏—Å—Ç–∞—è –ü–ª–∞–Ω–µ—Ç–∞", "address": "—É–ª. –ì–∞–≥–∞—Ä–∏–Ω–∞, 7, –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥", "lat": 56.838, "lng": 60.6041},
    {"name": "–≠–∫–æ–í—ã–±–æ—Ä", "address": "–ø—Ä. –õ–µ–Ω–∏–Ω–∞, 20, –ö–∞–∑–∞–Ω—å", "lat": 55.7963, "lng": 49.1087},
    {"name": "–ó–µ–ª—ë–Ω–∞—è –¢–æ—á–∫–∞", "address": "—É–ª. –ü—É—à–∫–∏–Ω–∞, 15, –ù–∏–∂–Ω–∏–π –ù–æ–≤–≥–æ—Ä–æ–¥", "lat": 56.3269, "lng": 44.0059},
    {"name": "–≠–∫–æ–°–∫–ª–∞–¥", "address": "—É–ª. –ú–∏—Ä–∞, 8, –°–∞–º–∞—Ä–∞", "lat": 53.1959, "lng": 50.1356},
    {"name": "–≠–∫–æ–õ–∞–≤–∫–∞", "address": "—É–ª. –ö–∞—Ä–ª–∞ –ú–∞—Ä–∫—Å–∞, 22, –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É", "lat": 47.2225, "lng": 39.7204},
    {"name": "–≠–∫–æ–ó–æ–Ω–∞", "address": "–ø—Ä. –õ–µ–Ω–∏–Ω–∞, 30, –í–æ—Ä–æ–Ω–µ–∂", "lat": 51.6615, "lng": 39.2003},
    {"name": "–≠–∫–æ–ú–∏—Ä", "address": "—É–ª. –ö–∏—Ä–æ–≤–∞, 12, –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä", "lat": 45.0395, "lng": 38.9806},
    {"name": "–≠–∫–æ–ü–ª–∞–Ω–µ—Ç–∞", "address": "—É–ª. –õ–µ–Ω–∏–Ω–∞, 45, –í–æ–ª–≥–æ–≥—Ä–∞–¥", "lat": 48.7071, "lng": 44.5166},
    {"name": "–≠–∫–æ–°—Ñ–µ—Ä–∞", "address": "–ø—Ä. –ú–∏—Ä–∞, 18, –ü–µ—Ä–º—å", "lat": 58.0104, "lng": 56.2502},
    {"name": "–≠–∫–æ–ì–æ—Ä–æ–¥", "address": "—É–ª. –°–æ–≤–µ—Ç—Å–∫–∞—è, 25, –ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫", "lat": 56.0175, "lng": 92.8611},
    {"name": "–≠–∫–æ–î–æ–º", "address": "—É–ª. –õ–µ–Ω–∏–Ω–∞, 50, –£—Ñ–∞", "lat": 54.7431, "lng": 55.9678},
    {"name": "–≠–∫–æ–õ—ç–Ω–¥", "address": "—É–ª. –ü—É—à–∫–∏–Ω–∞, 33, –°–∞—Ä–∞—Ç–æ–≤", "lat": 51.5335, "lng": 46.0343},
    {"name": "–≠–∫–æ–õ–∞–π—Ñ", "address": "—É–ª. –¢–≤–µ—Ä—Å–∫–∞—è, 12, –ú–æ—Å–∫–≤–∞", "lat": 55.7603, "lng": 37.6199},
    {"name": "–ó–µ–ª—ë–Ω—ã–π –î–æ–º", "address": "—É–ª. –ê—Ä–±–∞—Ç, 23, –ú–æ—Å–∫–≤–∞", "lat": 55.7527, "lng": 37.6008},
    {"name": "–≠–∫–æ–§–µ—Ä–º–∞", "address": "—É–ª. –ü—Ä–µ—á–∏—Å—Ç–µ–Ω–∫–∞, 15, –ú–æ—Å–∫–≤–∞", "lat": 55.7425, "lng": 37.6067},
    {"name": "–≠–∫–æ–°–∞–¥", "address": "—É–ª. –ú–∞—Ä–æ—Å–µ–π–∫–∞, 8, –ú–æ—Å–∫–≤–∞", "lat": 55.7580, "lng": 37.6316},
    {"name": "–≠–∫–æ–ü–∞—Ä–∫", "address": "—É–ª. –ú—è—Å–Ω–∏—Ü–∫–∞—è, 20, –ú–æ—Å–∫–≤–∞", "lat": 55.7617, "lng": 37.6284},
    {"name": "–≠–∫–æ–ì–æ—Ä–æ–¥", "address": "—É–ª. –ü–æ–∫—Ä–æ–≤–∫–∞, 17, –ú–æ—Å–∫–≤–∞", "lat": 55.7629, "lng": 37.6422},
    {"name": "–≠–∫–æ–î–æ–º", "address": "—É–ª. –°—Ä–µ—Ç–µ–Ω–∫–∞, 27, –ú–æ—Å–∫–≤–∞", "lat": 55.7679, "lng": 37.6361},
    {"name": "–≠–∫–æ–õ—ç–Ω–¥", "address": "—É–ª. –ë–æ–ª—å—à–∞—è –î–º–∏—Ç—Ä–æ–≤–∫–∞, 22, –ú–æ—Å–∫–≤–∞", "lat": 55.7701, "lng": 37.6144},
    {"name": "–≠–∫–æ–ú–∏—Ä", "address": "—É–ª. –†–æ–∂–¥–µ—Å—Ç–≤–µ–Ω–∫–∞, 11, –ú–æ—Å–∫–≤–∞", "lat": 55.7647, "lng": 37.6254},
    {"name": "–≠–∫–æ–ü–ª–∞–Ω–µ—Ç–∞", "address": "—É–ª. –ü–µ—Ç—Ä–æ–≤–∫–∞, 19, –ú–æ—Å–∫–≤–∞", "lat": 55.7665, "lng": 37.6178},
    {"name": "–≠–∫–æ–õ–∞–π—Ñ", "address": "–ù–µ–≤—Å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç, 50, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥", "lat": 59.9348, "lng": 30.3259},
    {"name": "–ó–µ–ª—ë–Ω—ã–π –î–æ–º", "address": "—É–ª. –†—É–±–∏–Ω—à—Ç–µ–π–Ω–∞, 15, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥", "lat": 59.9298, "lng": 30.3294},
    {"name": "–≠–∫–æ–§–µ—Ä–º–∞", "address": "—É–ª. –õ–∏—Ç–µ–π–Ω—ã–π –ø—Ä–æ—Å–ø–µ–∫—Ç, 22, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥", "lat": 59.9431, "lng": 30.3394},
    {"name": "–≠–∫–æ–°–∞–¥", "address": "—É–ª. –ì–æ—Ä–æ—Ö–æ–≤–∞—è, 10, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥", "lat": 59.9307, "lng": 30.3184},
    {"name": "–≠–∫–æ–ü–∞—Ä–∫", "address": "—É–ª. –ú–∞—Ä–∞—Ç–∞, 33, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥", "lat": 59.9272, "lng": 30.3401},
    {"name": "–≠–∫–æ–ì–æ—Ä–æ–¥", "address": "—É–ª. –§–æ–Ω—Ç–∞–Ω–∫–∞, 100, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥", "lat": 59.9241, "lng": 30.3084},
    {"name": "–≠–∫–æ–î–æ–º", "address": "—É–ª. –ú–æ—Ö–æ–≤–∞—è, 18, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥", "lat": 59.9319, "lng": 30.3156},
    {"name": "–≠–∫–æ–õ—ç–Ω–¥", "address": "—É–ª. –°–∞–¥–æ–≤–∞—è, 25, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥", "lat": 59.9254, "lng": 30.3199},
    {"name": "–≠–∫–æ–ú–∏—Ä", "address": "—É–ª. –í–æ—Å—Å—Ç–∞–Ω–∏—è, 12, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥", "lat": 59.9378, "lng": 30.3541},
    {"name": "–≠–∫–æ–ü–ª–∞–Ω–µ—Ç–∞", "address": "—É–ª. –ú–∞—è–∫–æ–≤—Å–∫–æ–≥–æ, 20, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥", "lat": 59.9331, "lng": 30.3494}, 
    {"name": "–≠–∫–æ–õ–∞–π—Ñ", "address": "—É–ª. –ë–æ–ª—å—à–∞—è –°–∞–¥–æ–≤–∞—è, 30, –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É", "lat": 47.2225, "lng": 39.7204},
    {"name": "–ó–µ–ª—ë–Ω—ã–π –î–æ–º", "address": "—É–ª. –ü—É—à–∫–∏–Ω—Å–∫–∞—è, 45, –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É", "lat": 47.2250, "lng": 39.7150},
    {"name": "–≠–∫–æ–§–µ—Ä–º–∞", "address": "—É–ª. –°–æ—Ü–∏–∞–ª–∏—Å—Ç–∏—á–µ—Å–∫–∞—è, 110, –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É", "lat": 47.2300, "lng": 39.7000},
    {"name": "–≠–∫–æ–°–∞–¥", "address": "—É–ª. –ö—Ä–∞—Å–Ω–æ–∞—Ä–º–µ–π—Å–∫–∞—è, 150, –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É", "lat": 47.2350, "lng": 39.7100},
    {"name": "–≠–∫–æ–ü–∞—Ä–∫", "address": "—É–ª. –ú–∞–∫—Å–∏–º–∞ –ì–æ—Ä—å–∫–æ–≥–æ, 210, –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É", "lat": 47.2400, "lng": 39.7200},
    ]

def get_random_eco_shops(city_name):
    """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç 5 —Å–ª—É—á–∞–π–Ω—ã—Ö –º–∞–≥–∞–∑–∏–Ω–æ–≤ –∏–∑ —Å–ø–∏—Å–∫–∞."""
    
    filtered_shops = [shop for shop in SHOPS if city_name.lower() in shop['address'].lower()]

    
    if not filtered_shops:
        filtered_shops = SHOPS

   
    selected_shops = random.sample(filtered_shops, min(5, len(filtered_shops)))

    return selected_shops

def get_eco_shops_message(shops):
    """–§–æ—Ä–º–∏—Ä—É–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –º–∞–≥–∞–∑–∏–Ω–∞—Ö –∏ —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ –∫–∞—Ä—Ç—ã."""
    response_message = "–í–æ—Ç —Å–ø–∏—Å–æ–∫ –º–∞–≥–∞–∑–∏–Ω–æ–≤ —Å —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–∏ —á–∏—Å—Ç—ã–º–∏ –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏:\n\n"
    for shop in shops:
        map_url = f"https://yandex.ru/maps/?pt={shop['lng']},{shop['lat']}&z=15&l=map"
        response_message += f"üè™ **[{shop['name']}]({map_url})**\n–ê–¥—Ä–µ—Å: {shop['address']}\n\n"
    return response_message
